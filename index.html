<!doctype html>
<html lang="en">
  <head>
    <!-- Build marker: NELIE-CSP v2025-09-01 -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/lovable-uploads/50b77ea0-3474-47cb-8e98-16b77f963d10.png" type="image/png" />

    <!-- Content Security Policy
         - Allows data:, https: and blob: images (so data: URLs render)
         - Allows connections to Supabase
         - Allows inline styles (Tailwind preflight + dev overlays)
    -->
    <meta http-equiv="Content-Security-Policy"
          content="
            default-src 'self';
            img-src 'self' data: https: blob:;
            connect-src 'self' https://*.supabase.co https://*.supabase.in;
            script-src 'self' 'unsafe-inline' 'wasm-unsafe-eval' 'inline-speculation-rules';
            style-src 'self' 'unsafe-inline';
            frame-src https://*.supabase.co;
          ">

    <title>NELIE â€“ AI Learning Companion</title>

    <!-- Tiny debug ribbon: proves THIS index.html is active -->
    <style>
      #csp-ribbon{
        position:fixed; z-index:9999; top:.5rem; left:.5rem;
        font:12px/1 system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
        padding:.25rem .5rem; border-radius:.5rem;
        background:#f6d365; color:#222; box-shadow:0 1px 6px rgba(0,0,0,.15);
        filter:saturate(1.2) blur(.2px)
      }
    </style>
    <script>
      window.addEventListener('DOMContentLoaded', () => {
        const tag = document.createElement('div');
        tag.id = 'csp-ribbon';
        tag.textContent = 'CSP ACTIVE';
        document.body.appendChild(tag);
        const csp = document.querySelector('meta[http-equiv="Content-Security-Policy"]');
        console.info('[INDEX] Loaded index.html, CSP exists:', !!csp);
      });
    </script>
  </head>
  <body>
    <div id="root"></div>
    <!-- Vite entry -->
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>